(this.webpackJsonpCOVinfo=this.webpackJsonpCOVinfo||[]).push([[0],{244:function(e,t,a){e.exports=a(510)},250:function(e,t,a){},317:function(e,t){},510:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(23),c=a.n(l),o=(a(158),a(249),a(250),a(16)),s=a(11),i=a(541),u=a(241),m=a(538),d=a(224),f=a(516),p=a(517),g=a(518),h=a(519),b=a(520),E=a(521),v=a(522),y=a(523),x=a(524),w=a(29),j=a(25),O=function(e){var t=e.style,a=void 0===t?{}:t,n=e.color,l=void 0===n?"black":n,c=e.className,o=void 0===c?"":c,s=e.size,i=void 0===s?100:s;return r.a.createElement("svg",{version:"1.1",viewBox:"0 0 64 64",xmlns:"http://www.w3.org/2000/svg",style:a,fill:l,className:o,height:i,width:i},r.a.createElement("path",{d:" c-1.2-0.8-2.4,0.1-3.2,0.7c-0.1,0.1-0.3,0.2-0.4,0.3c0-0.2,0-0.4,0-0.5c0-0.9-0.1-2.5-1.6-2.9c-1.4-0.3-2.2,1-2.8,1.8  c-0.1,0.1-0.2,0.3-0.3,0.4c-0.1-0.2-0.1-0.3-0.2-0.5c-0.4-0.9-0.9-2.3-2.5-2.2c-1.5,0.2-1.8,1.7-2,2.6c0,0.1-0.1,0.3-0.1,0.5  c-0.1-0.1-0.2-0.3-0.3-0.4c-0.7-0.8-1.7-1.9-3.1-1.3c-1.3,0.7-1.1,2.2-1,3.2c0,0.2,0.1,0.4,0.1,0.6c-0.2-0.1-0.3-0.2-0.5-0.2  c-0.8-0.4-2.3-1.2-3.4-0.1c-1,1.1-0.3,2.4,0.2,3.3c0.1,0.2,0.2,0.5,0.3,0.7c-0.2,0-0.5,0-0.7,0c-1-0.1-2.6-0.2-3.2,1.3  c-0.2,0.5,0,1.1,0.5,1.3c0.5,0.2,1.1,0,1.3-0.5c0.1-0.2,0.8-0.1,1.2-0.1c0.9,0.1,2,0.1,2.6-0.8c0.6-0.9,0.1-2-0.3-2.8  c-0.1-0.3-0.4-0.8-0.4-1c0.2,0,0.7,0.3,1,0.4c0.8,0.4,1.8,0.9,2.7,0.3c0.9-0.6,0.8-1.8,0.6-2.7c0-0.3-0.1-0.8-0.1-1  c0.2,0.2,0.5,0.5,0.7,0.7c0.6,0.7,1.4,1.5,2.4,1.2c1.1-0.3,1.3-1.4,1.5-2.3c0.1-0.3,0.2-0.7,0.2-0.9c0.1,0.2,0.3,0.6,0.4,0.9  c0.3,0.9,0.8,1.9,1.8,2c1.1,0.1,1.7-0.9,2.2-1.6c0.1-0.2,0.4-0.6,0.5-0.8c0.1,0.3,0.1,0.7,0.1,1c0,0.9,0.1,2.1,1.1,2.5  c1,0.5,1.9-0.2,2.6-0.8c0.2-0.2,0.6-0.5,0.8-0.6c0,0.3-0.2,0.7-0.3,1c-0.3,0.9-0.6,2,0.1,2.7c0.8,0.8,1.9,0.5,2.7,0.3  c0.3-0.1,1-0.3,1.1-0.3c0,0.2-0.4,0.7-0.6,1c-0.5,0.7-1.3,1.7-0.8,2.7c0.2,0.4,0.5,0.6,0.9,0.6c0.1,0,0.3,0,0.4-0.1  c0.5-0.2,0.7-0.7,0.5-1.2c0.1-0.2,0.3-0.6,0.5-0.8C46.1,29.1,47,27.9,46.2,26.6z"}),r.a.createElement("path",{d:"M56.9,42.9c-1.1-0.7-2.5-0.5-3.4,0.3l-2.8-1.6c1-2,1.7-4.1,2.1-6.4l4,0.4l0.2-2l-4-0.4c0-0.4,0.1-0.8,0.1-1.2  s0-0.8-0.1-1.2l4-0.4l-0.2-2l-4,0.4c-0.3-2.3-1.1-4.4-2.1-6.4l2.8-1.6c0.9,0.8,2.3,1,3.4,0.3c1.4-0.8,1.9-2.7,1.1-4.1  s-2.7-1.9-4.1-1.1c-1.1,0.7-1.7,1.9-1.4,3.1l-2.8,1.6c-1.2-1.9-2.8-3.6-4.5-5l2.4-3.3l-1.6-1.2l-2.4,3.3c-0.7-0.4-1.4-0.8-2.1-1.2  l1.6-3.7l-1.8-0.8l-1.6,3.7c-2.1-0.8-4.3-1.3-6.6-1.4V7.8c1.2-0.4,2-1.5,2-2.8c0-1.7-1.3-3-3-3s-3,1.3-3,3c0,1.3,0.8,2.4,2,2.8v3.2  c-2.3,0.1-4.5,0.6-6.6,1.4l-1.6-3.7l-1.8,0.8l1.6,3.7c-0.7,0.4-1.4,0.8-2.1,1.2l-2.4-3.3l-1.6,1.2l2.4,3.3c-1.8,1.4-3.3,3.1-4.5,5  L11.6,19c0.2-1.2-0.3-2.5-1.4-3.1C8.7,15.1,6.8,15.6,6,17s-0.3,3.3,1.1,4.1c1.1,0.7,2.5,0.5,3.4-0.3l2.8,1.6c-1,2-1.7,4.1-2.1,6.4  l-4-0.4l-0.2,2l4,0.4c0,0.4-0.1,0.8-0.1,1.2s0,0.8,0.1,1.2l-4,0.4l0.2,2l4-0.4c0.3,2.3,1.1,4.4,2.1,6.4l-2.8,1.6  c-0.9-0.8-2.3-1-3.4-0.3C5.7,43.7,5.2,45.6,6,47s2.7,1.9,4.1,1.1c1.1-0.7,1.7-1.9,1.4-3.1l2.8-1.6c1.2,1.9,2.8,3.6,4.5,5l-2.4,3.3  l1.6,1.2l2.4-3.3c0.7,0.4,1.4,0.8,2.1,1.2l-1.6,3.7l1.8,0.8l1.6-3.7c2.1,0.8,4.3,1.3,6.6,1.4v3.2c-1.2,0.4-2,1.5-2,2.8  c0,1.7,1.3,3,3,3s3-1.3,3-3c0-1.3-0.8-2.4-2-2.8v-3.2c2.3-0.1,4.5-0.6,6.6-1.4l1.6,3.7l1.8-0.8l-1.6-3.7c0.7-0.4,1.4-0.8,2.1-1.2  l2.4,3.3l1.6-1.2l-2.4-3.3c1.8-1.4,3.3-3.1,4.5-5l2.8,1.6c-0.2,1.2,0.3,2.5,1.4,3.1c1.4,0.8,3.3,0.3,4.1-1.1S58.3,43.7,56.9,42.9z   M44,46.8l-1.2-1.6l-1.6,1.2l1.2,1.6c-0.6,0.4-1.1,0.7-1.7,1l-0.8-1.8L38,47.9l0.8,1.8C37,50.4,35,50.8,33,50.9V49h-2v1.9  c-2-0.1-4-0.5-5.8-1.2l0.8-1.8l-1.8-0.8l-0.8,1.8c-0.6-0.3-1.2-0.6-1.7-1l1.2-1.6l-1.6-1.2L20,46.8c-1.5-1.3-2.9-2.7-4-4.4l1.7-1  l-1-1.7l-1.7,1c-0.9-1.7-1.5-3.6-1.8-5.6l1.9-0.2l-0.2-2L13.1,33c0-0.3-0.1-0.7-0.1-1s0-0.7,0.1-1l1.9,0.2l0.2-2L13.3,29  c0.3-2,0.9-3.9,1.8-5.6l1.7,1l1-1.7l-1.7-1c1.1-1.7,2.4-3.2,4-4.4l1.2,1.6l1.6-1.2l-1.2-1.6c0.6-0.4,1.1-0.7,1.7-1l0.8,1.8l1.8-0.8  l-0.8-1.8c1.8-0.7,3.8-1.1,5.8-1.2V15h2v-1.9c2,0.1,4,0.5,5.8,1.2L38,16.1l1.8,0.8l0.8-1.8c0.6,0.3,1.2,0.6,1.7,1l-1.2,1.6l1.6,1.2  l1.2-1.6c1.5,1.3,2.9,2.7,4,4.4l-1.7,1l1,1.7l1.7-1c0.9,1.7,1.5,3.6,1.8,5.6l-1.9,0.2l0.2,2l1.9-0.2c0,0.3,0.1,0.7,0.1,1  s0,0.7-0.1,1L49,32.8l-0.2,2l1.9,0.2c-0.3,2-0.9,3.9-1.8,5.6l-1.7-1l-1,1.7l1.7,1C46.8,44,45.5,45.5,44,46.8z"}),r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"50%",height:"50%",x:"25%",y:"25%",viewBox:"0 0 24 24",fill:"none",stroke:l,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),r.a.createElement("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),r.a.createElement("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})))},N=a(24),C=a(221),k=a(21);var S=Object(j.b)((function(e,t){return Object(o.a)({},t,{user:e.user,authed:e.authed})}))(Object(k.g)((function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(!1),j=Object(s.a)(o,2),k=j[0],S=j[1],T=Object(N.useMediaQuery)({query:"(max-device-width: 1024px)"});Object(n.useEffect)((function(){if(T)return e.history.listen((function(){S(!1)}))}));var _=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{bg:"dark",className:"flex-column p-0"},T?null:r.a.createElement(i.a.Brand,{className:"mr-0 text-white h6 px-3 d-flex flex-column align-items-center bg-transparent border-0 hover-spinner cursor-pointer",onClick:function(){return c(!0)}},r.a.createElement(O,{color:"lime",size:50}),"COVinfo"),r.a.createElement(i.a.Collapse,{id:"basic-navbar-nav",className:"flex-column w-100"},r.a.createElement(u.a,{className:"flex-column w-100 flex"},r.a.createElement(w.b,{to:"/",exact:!0,activeClassName:"current",className:"text-center py-3 w-100 nav-item"},r.a.createElement(f.a,{size:35})),r.a.createElement(w.b,{to:"/map",activeClassName:"current",className:"text-center py-3 w-100 nav-item"},r.a.createElement(p.a,{size:35})),r.a.createElement(w.b,{to:"/chat",activeClassName:"current",className:"text-center py-3 w-100 nav-item"},r.a.createElement(g.a,{size:35})),r.a.createElement(w.b,{to:"/music",activeClassName:"current",className:"text-center py-3 w-100 nav-item"},r.a.createElement(h.a,{size:35})),r.a.createElement(w.b,{to:"/memes",activeClassName:"current",className:"text-center py-3 w-100 nav-item"},r.a.createElement(b.a,{size:35})),r.a.createElement("div",{className:"flex"}),e.authed?r.a.createElement(w.b,{to:"/settings",activeClassName:"current",className:"text-center py-3 w-100 nav-item"},r.a.createElement(E.a,{size:35})):r.a.createElement(w.b,{to:"/login",activeClassName:"current",className:"text-center py-3 w-100 nav-item"},r.a.createElement(v.a,{size:35}))))))},D=function(){return r.a.createElement(m.a,{show:l,onHide:function(){return c(!1)}},r.a.createElement(m.a.Header,{closeButton:!0},r.a.createElement(m.a.Title,null,"About COVinfo")),r.a.createElement(m.a.Body,null,"COVinfo was designed and built during the 2020 Corona pandemic and an entry in"," ",r.a.createElement("a",{href:"https://hackquarantine.devpost.com/",target:"_blank",rel:"noopener noreferrer"},"Hack Quarantine"),". The goal of COVinfo is to provide a one-stop-shop dashboard for important information regarding Corona, whether that includes up-to-date news, globally and locally, a visual representation of the global spread of Corona, or some materials to keep you distracted and staying healthy during these difficult times. COVinfo was built by"," ",r.a.createElement("a",{href:"https://ngregrichardson.dev",target:"_blank",rel:"noopener noreferrer"},"Noah Richardson")," ","and"," ",r.a.createElement("a",{href:"http://mayajohn.info",target:"_blank",rel:"noopener noreferrer"},"Maya John")," ","and is completely open sourced on"," ",r.a.createElement("a",{href:"https://github.com/ngregrichardson/COVinfo",target:"_blank",rel:"noopener noreferrer"},"Github"),"."),r.a.createElement(m.a.Body,null,r.a.createElement("strong",null,"Built with:"),r.a.createElement("br",null),"Front-End:"," ",r.a.createElement("a",{href:"https://reactjs.org/",target:"_blank",rel:"noopener noreferrer"},"React"),r.a.createElement("br",null),"Back-End:"," ",r.a.createElement("a",{href:"https://expressjs.com/",target:"_blank",rel:"noopener noreferrer"},"Express"),r.a.createElement("br",null),"Maps:"," ",r.a.createElement("a",{href:"https://www.mapbox.com/",target:"_blank",rel:"noopener noreferrer"},"Mapbox"),r.a.createElement("br",null),"Data Sources:"," ",r.a.createElement("a",{href:"https://newsapi.org/",target:"_blank",rel:"noopener noreferrer"},"News API"),","," ",r.a.createElement("a",{href:"https://corona.lmao.ninja/",target:"_blank",rel:"noopener noreferrer"},"NovelCOVID"),","," ",r.a.createElement("a",{href:"https://datahub.io/core/geo-countries",target:"_blank",rel:"noopener noreferrer"},"DataHub")))};return T?r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{isOpen:k,from:"left",width:"25%",onRequestClose:function(){return S(!k)},className:"bg-dark navbarZIndex",overlayClassName:"navbarOverlayZIndex",closeIcon:r.a.createElement("div",null)},_()),r.a.createElement("div",{style:{zIndex:50,backgroundColor:"#343a40",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"}},r.a.createElement(d.a,{className:"align-self-start ml-2 mt-2",style:{zIndex:50,marginBottom:k?12:8,border:k?"none":"solid 2px rgba(255, 255, 255, 0.5)",backgroundColor:"transparent"},onClick:function(){return S(!k)}},k?r.a.createElement(y.a,{className:"text-white-50"}):r.a.createElement(x.a,{className:"text-white-50"})),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},className:"mr-2"},r.a.createElement("h3",{className:"text-white mb-0 mr-1"},"COVinfo"),r.a.createElement(d.a,{style:{backgroundColor:"transparent",borderColor:"transparent",padding:0},onClick:function(){return c(!0)}},r.a.createElement(O,{color:"lime",size:45})))),D()):r.a.createElement(r.a.Fragment,null,_(),D())}))),T=a(123),_=a(43),D=a(22),I={id:"data",type:"fill",paint:{"fill-color":{property:"cases",stops:[[0,"#abdda4"],[10,"#e6f598"],[100,"#ffffbf"],[1e3,"#fee08b"],[1e4,"#fdae61"],[1e5,"#f46d43"],[1e6,"#d53e4f"]]},"fill-opacity":.8}};function L(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}var A=Object(j.b)((function(e,t){return Object(o.a)({},t,{user:e.user,authed:e.authed})}))((function(e){var t=Object(n.useState)({width:"100%",height:"100%",latitude:39.9526,longitude:-75.1652,zoom:5}),a=Object(s.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)(null),u=Object(s.a)(i,2),m=u[0],d=u[1],f=Object(n.useState)(null),p=Object(s.a)(f,2),g=p[0],h=p[1],b=Object(n.useState)(!0),E=Object(s.a)(b,2),v=E[0],y=E[1],x=Object(N.useMediaQuery)({query:"(max-device-width: 1024px)"}),w=Object(D.useToasts)().addToast;window.onresize=function(){c(Object(o.a)({},l,{width:"100%",height:"100%"}))};var j=Object(n.useCallback)((function(){fetch("https://covinfo.tech/mapData").then((function(e){return e.json()})).then((function(t){var a=t.geoJson,n=t.coronaJson;n.message?(y(!1),w("There was a problem loading the data",{appearance:"error",autoDismiss:!0})):(n.forEach((function(t){var n=a.features.find((function(e){return e.properties.ISO_A3===t.countryInfo.iso3}));n&&(n.properties=Object(o.a)({},n.properties,{cases:t.cases,deaths:t.deaths,recovered:t.recovered,casesToday:t.todayCases,tests:t.tests,iso2:t.countryInfo.iso2}),e.authed&&e.user&&(e.user.country!==t.countryInfo.iso2&&e.user.country!==t.countryInfo.iso3||c(Object(o.a)({},l,{latitude:t.countryInfo.lat,longitude:t.countryInfo.long}))))})),d(a),setTimeout((function(){return y(!1)}),1e3))})).catch((function(e){console.log(e),y(!1),w("There was a problem loading the data",{appearance:"error",autoDismiss:!0})}))}),[w,e.authed,e.user]);return Object(n.useEffect)((function(){document.title="Map | COVinfo",j()}),[j]),r.a.createElement("div",{style:{flex:1,position:"relative"}},v?r.a.createElement("div",{className:"map-loading"},r.a.createElement(O,{color:"lime",size:100,className:"spinning-logo"})):null,r.a.createElement(T.c,Object.assign({mapboxApiAccessToken:"pk.eyJ1IjoibmdyZWdyaWNoYXJkc29uIiwiYSI6ImNrOHY0dGdsdjA2NjYzZnNmMWVzZW53OGQifQ.OLl9xQNCBOTHwVRlz-06lA"},l,{onViewportChange:c,mapStyle:"mapbox://styles/mapbox/dark-v9",onHover:function(e){var t=e.features,a=t&&t.find((function(e){return"data"===e.layer.id}));h(a)}}),r.a.createElement(T.b,{type:"geojson",data:m},r.a.createElement(T.a,I)),g?r.a.createElement("div",{className:x?"small-map-tooltip":"map-tooltip"},r.a.createElement("div",{className:"d-flex flex-row align-items-center"},r.a.createElement("div",{className:"font-weight-bold"},g.properties.ADMIN),g.properties.iso2?r.a.createElement(_.a,{countryCode:g.properties.iso2,className:"ml-1"}):null),r.a.createElement("div",{style:{width:"100%",height:1,backgroundColor:"#fff"}}),void 0!==g.properties.cases?r.a.createElement("div",null,"Total Cases: ",L(g.properties.cases)):null,void 0!==g.properties.deaths?r.a.createElement("div",null,"Deaths: ",L(g.properties.deaths)):null,void 0!==g.properties.recovered?r.a.createElement("div",null,"Recoveries: ",L(g.properties.recovered)):null,void 0!==g.properties.tests?r.a.createElement("div",null,"Tests: ",L(g.properties.tests)):null,void 0===g.properties.casesToday||0===g.properties.casesToday?null:r.a.createElement("div",null,"Cases Today:"," ",L(g.properties.casesToday)),r.a.createElement("div",{style:{color:"gray",fontSize:"0.8em"}},"Data Provided by"," ",r.a.createElement("a",{href:"https://github.com/NovelCOVID/API",target:"_blank",rel:"noopener noreferrer"},"NovelCOVID"))):null))})),U=a(26),R=a.n(U);var B=function(e){var t=Object(n.useState)(e.article),a=Object(s.a)(t,1)[0],l=Object(N.useMediaQuery)({query:"(max-device-width: 1024px)"});return r.a.createElement("button",{className:"p-2 text-white d-flex flex-row align-items-center mb-3 text-left w-100 bg-transparent border newsStory",style:{borderRadius:10,borderColor:"lightgray"},onClick:function(){window.open(a.url,"_blank")}},r.a.createElement("img",{src:a.urlToImage||"https://designshack.net/wp-content/uploads/placeholder-image.png",width:70,height:70,style:{borderRadius:5,objectFit:"cover"},alt:"article_img"}),r.a.createElement("div",{className:"d-flex flex-column justify-content-center ml-3"},r.a.createElement("h5",{className:l?"mb-0 text-dark h6":"mb-0 text-dark"},a.title),r.a.createElement("span",{className:"pl-2 h6 text-black-50",style:{overflowWrap:"anywhere"}},a.source.name," \xb7",l?" ":a.author&&""!==a.author.trim()?" ".concat(a.author," \xb7 "):" ",R()(a.publishedAt).fromNow())))},M=a(44),z=a(68),P=a(525),V=a(526);var W=Object(j.b)((function(e,t){return Object(o.a)({},t,{user:e.user,authed:e.authed})}))((function(e){var t=Object(n.useState)({articles:[],loading:!0}),a=Object(s.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)({articles:[],loading:!0,title:"Local Coronavirus News"}),u=Object(s.a)(i,2),m=u[0],d=u[1],f=Object(n.useState)(e.authed),p=Object(s.a)(f,2),g=p[0],h=p[1],b=Object(D.useToasts)().addToast,E=Object(N.useMediaQuery)({query:"(max-device-width: 1024px)"});Object(n.useEffect)((function(){e.authed!==g&&(h(e.authed),d(Object(o.a)({},m,{loading:!0})))}),[e.authed]);var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new Promise((function(t,a){e=" "+Object(z.getName)(e),fetch("https://newsapi.org/v2/everything?q=coronavirus".concat(e,"&from=").concat(R()().subtract(14,"days").format("YYYY-MM-DD"),"&sortBy=relevancy&language=en&apiKey=a24bf4b7cea34b6c88e899238f856cfa")).then((function(e){return e.json()})).then((function(e){"error"!==e.status?t(e.articles):a("There was a problem getting the news.")})).catch((function(e){a("There was a problem getting the news.")}))}))};return Object(n.useEffect)((function(){document.title="Dashboard | COVinfo",v().then((function(e){c({articles:e,loading:!1})})),function(){if(g&&e.user){var t=e.user;t.country?v(t.country).then((function(e){d({articles:e,loading:!1,title:"Local Coronavirus News (".concat(t.country,")"),country:t.country})})).catch((function(e){return b(e,{appearance:"error",autoDismiss:!0})})):v("United States of America").then((function(e){d({articles:e,loading:!1,title:"Local Coronavirus News (US)",country:"US"})})).catch((function(e){return b(e,{appearance:"error",autoDismiss:!0})}))}else v("United States of America").then((function(e){d({articles:e,loading:!1,title:"Local Coronavirus News (US)",country:"US"})})).catch((function(e){return b(e,{appearance:"error",autoDismiss:!0})}))}()}),[]),E?r.a.createElement("div",{className:"d-flex flex-column flex pt-3 pl-1"},r.a.createElement(P.a,{defaultActiveKey:"global",id:"newsTabs"},r.a.createElement(V.a,{eventKey:"global",title:"Global",className:"mb-4 h-100"},r.a.createElement("div",{className:"d-flex flex-column h-100"},r.a.createElement("div",{className:"pt-1 pl-1 flex d-flex flex-column align-items-center ".concat(m.loading?"justify-content-center":"")},r.a.createElement(M.Scrollbars,{renderView:function(e){return r.a.createElement("div",Object.assign({},e,{className:"pr-2 flex d-flex flex-column align-items-center ".concat(l.loading?"justify-content-center":"")}))}},l.loading?r.a.createElement(O,{color:"lime",size:100,className:"spinning-logo"}):l.articles.map((function(e){return e.title&&""!==e.title.trim()?r.a.createElement(B,{article:e,key:e.publishedAt+e.title+"".concat(5*Math.random())}):null})))))),r.a.createElement(V.a,{eventKey:"local",title:r.a.createElement(r.a.Fragment,null,"Local",r.a.createElement(_.a,{countryCode:m.country||"",className:"ml-1"})),className:"mb-4 h-100"},r.a.createElement("div",{className:"d-flex flex-column h-100"},r.a.createElement("div",{className:"pt-1 pl-1 flex d-flex flex-column align-items-center ".concat(m.loading?"justify-content-center":"")},r.a.createElement(M.Scrollbars,{renderView:function(e){return r.a.createElement("div",Object.assign({},e,{className:"pr-2 flex d-flex flex-column align-items-center ".concat(m.loading?"justify-content-center":"")}))}},m.loading?r.a.createElement(O,{color:"lime",size:100,className:"spinning-logo"}):m.articles.map((function(e){return e.title&&""!==e.title.trim()?r.a.createElement(B,{article:e,key:e.publishedAt+e.title+"".concat(5*Math.random())}):null})))))))):r.a.createElement("div",{className:"d-flex flex-row flex p-3"},r.a.createElement("div",{className:"d-flex flex-column flex"},r.a.createElement("h3",{className:"ml-2"},"Global Coronavirus News"),r.a.createElement("div",{className:"p-1 flex d-flex flex-column align-items-center ".concat(m.loading?"justify-content-center":"")},r.a.createElement(M.Scrollbars,{renderView:function(e){return r.a.createElement("div",Object.assign({},e,{className:"pr-3 flex d-flex flex-column align-items-center ".concat(l.loading?"justify-content-center":"")}))}},l.loading?r.a.createElement(O,{color:"lime",size:100,className:"spinning-logo"}):l.articles.map((function(e){return e.title&&""!==e.title.trim()?r.a.createElement(B,{article:e,key:e.publishedAt+e.title+"".concat(5*Math.random())}):null}))))),r.a.createElement("div",{className:"d-flex flex-column flex"},r.a.createElement("div",{className:"ml-2 d-flex flex-row align-items-center mb-2"},r.a.createElement("h3",{className:"m-0"},m.title),r.a.createElement(_.a,{countryCode:m.country||"",className:"ml-1"})),r.a.createElement("div",{className:"p-1 flex d-flex flex-column align-items-center ".concat(m.loading?"justify-content-center":"")},r.a.createElement(M.Scrollbars,{renderView:function(e){return r.a.createElement("div",Object.assign({},e,{className:"pr-3 flex d-flex flex-column align-items-center ".concat(m.loading?"justify-content-center":"")}))}},m.loading?r.a.createElement(O,{color:"lime",size:100,className:"spinning-logo"}):m.articles.map((function(e){return e.title&&""!==e.title.trim()?r.a.createElement(B,{article:e,key:e.publishedAt+e.title+"".concat(5*Math.random())}):null}))))))})),G=a(239),q=a(527);var F=function(e){return r.a.createElement("div",{className:"mb-2 chatMessage bg-white p-2"},r.a.createElement("div",{className:"d-flex flex-row align-items-center mb-1"},r.a.createElement("h6",{style:{color:"#"+e.message.username_color},className:"mb-0 font-weight-bold"},e.message.username),r.a.createElement(_.a,{countryCode:e.message.country,className:"ml-1"})),r.a.createElement("span",{className:"ml-2"},e.message.message))},H=a(228),Q=a.n(H)()("https://covinfo.tech/");var K=Object(j.b)((function(e,t){return Object(o.a)({},t,{user:e.user,authed:e.authed})}))((function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)([]),i=Object(s.a)(o,2),u=i[0],m=i[1],d=Object(n.useRef)(u),f=Object(n.useRef)(null),p=Object(N.useMediaQuery)({query:"(max-device-width: 1024px)"}),g=Object(D.useToasts)().addToast;Object(n.useEffect)((function(){d.current=u}));var h=function(e){m([].concat(Object(G.a)(d.current),[e])),b()};Object(n.useEffect)((function(){return document.title="Chat | COVinfo",Q.on("message",h),function(){Q.off("message")}}),[]);var b=function(){f.current.scrollToBottom()},E=function(){fetch(encodeURI("".concat("https://covinfo.tech/","chat/sendMessage?message=").concat(l,"&username=").concat(e.user.username,"&username_color=").concat(e.user.username_color,"&country=").concat(e.user.country)),{method:"POST"}).then((function(e){c("")})).catch((function(e){console.log(e),g("There was a problem sending the message.",{appearance:"error",autoDismiss:!0})}))};return r.a.createElement("div",{className:"w-100 h-100 d-flex flex-column"},r.a.createElement("div",{className:"flex pl-3 pt-3 pr-3 d-flex flex-column"},r.a.createElement("h3",{className:p?"align-self-center text-center":""},"Quarantine Chat"),r.a.createElement(M.Scrollbars,{renderView:function(e){return r.a.createElement("div",Object.assign({},e,{className:"pr-3 flex"}))},ref:f},u.map((function(e){return r.a.createElement(F,{message:e,key:"".concat(e.username,"_").concat(10*Math.random())})})))),r.a.createElement("div",{className:"w-100 p-3"},r.a.createElement("div",{className:"w-100 d-flex flex-row rounded-pill messageInputContainer"},r.a.createElement("input",{type:"text",className:"flex bg-transparent border-0 py-2 px-3 messageInput",placeholder:e.authed?"Message...":"Login to enable chat...",onChange:function(e){return c(e.target.value)},onKeyDown:function(e){13===e.keyCode&&E()},value:l,disabled:!e.authed}),""!==l.trim()?r.a.createElement("button",{className:"bg-primary border-0 d-flex align-items-center justify-content-center pl-3 pr-4",style:{borderTopRightRadius:100,borderBottomRightRadius:100},onClick:E},r.a.createElement(q.a,{color:"white"})):r.a.createElement("div",null))))})),Z=a(14),Y=a.n(Z),J=a(528),X=a(529),$=a(539);var ee=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),o=Object(s.a)(c,2),i=o[0],u=o[1],m=Object(N.useMediaQuery)({query:"(max-device-width: 1024px)"}),d=Object(k.f)(),f=Object(D.useToasts)().addToast;return r.a.createElement("div",{className:"w-100 h-100 d-flex align-items-center justify-content-center offWhiteBackground overflow-auto"},r.a.createElement("div",{className:m?"bg-white d-flex flex-column align-items-center rounded":"bg-white d-flex flex-column align-items-center form-padding rounded boxShadow"},r.a.createElement("h3",null,"Log in"),r.a.createElement("div",{style:{height:1,width:"25%",backgroundColor:"gray",marginBottom:15}}),r.a.createElement("div",{className:"d-flex flex-row align-items-center justify-content-center p-3"},r.a.createElement("button",{className:"smLoginButton bg-white rounded-circle p-2 d-flex align-items-center justify-content-center mx-2",onClick:function(){Y.a.auth().signInWithPopup(new Y.a.auth.FacebookAuthProvider).then().then((function(e){d.push("/"),f("Logged in.",{appearance:"success",autoDismiss:!0})})).catch((function(e){console.log(e),f("There was a problem logging in.",{appearance:"error",autoDismiss:!0})}))}},r.a.createElement(J.a,null)),r.a.createElement("button",{className:"smLoginButton bg-white rounded-circle p-2 d-flex align-items-center justify-content-center mx-2",onClick:function(){Y.a.auth().signInWithPopup(new Y.a.auth.GithubAuthProvider).then().then((function(e){d.push("/"),f("Logged in.",{appearance:"success",autoDismiss:!0})})).catch((function(e){console.log(e),f("There was a problem logging in.",{appearance:"error",autoDismiss:!0})}))}},r.a.createElement(X.a,null))),r.a.createElement("span",{className:"mb-2 text-muted"},"or use your email"),r.a.createElement($.a,null,r.a.createElement($.a.Group,{controlId:"formGroupEmail"},r.a.createElement($.a.Label,null,"Email address"),r.a.createElement($.a.Control,{type:"email",placeholder:"Email...",value:a,onChange:function(e){return l(e.target.value)}})),r.a.createElement($.a.Group,{controlId:"formGroupPassword"},r.a.createElement($.a.Label,null,"Password"),r.a.createElement($.a.Control,{type:"password",placeholder:"Password...",value:i,onChange:function(e){return u(e.target.value)}})),r.a.createElement("button",{className:"bg-transparent border-0 float-right align-self-end mb-3"},"Forgot Password?")),r.a.createElement("button",{className:"bg-white smLoginButton rounded-pill py-2 px-3",onClick:function(){Y.a.auth().signInWithEmailAndPassword(a,i).then((function(e){d.push("/"),f("Logged in.",{appearance:"success",autoDismiss:!0})})).catch((function(e){console.log(e),f("There was a problem logging in.",{appearance:"error",autoDismiss:!0})}))}},"Log in"),r.a.createElement("button",{className:"bg-white smLoginButton rounded-pill py-2 px-3 mt-3",onClick:function(){d.push("/register")}},"Register")))},te=a(104),ae={user:null,authed:!1},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_USER":return Object(o.a)({},e,{user:t.user,authed:!0});case"CLEAR_USER":return Object(o.a)({},e,{user:null,authed:!1});default:return e}},re=Object(te.b)(ne,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());var le=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),o=Object(s.a)(c,2),i=o[0],u=o[1],m=Object(n.useState)(""),d=Object(s.a)(m,2),f=d[0],p=d[1],g=Object(n.useState)(""),h=Object(s.a)(g,2),b=h[0],E=h[1],v=Object(n.useState)("US"),y=Object(s.a)(v,2),x=y[0],w=y[1],j=Object(N.useMediaQuery)({query:"(max-device-width: 1024px)"}),O=Object(z.getData)(),C=Object(D.useToasts)().addToast,S=Object(k.f)(),T=function(e){Y.a.firestore().collection("users").doc(e).set({username:b,country:x,username_color:"000000",user_id:e}).then((function(){S.push("/"),C("User created.",{appearance:"success",autoDismiss:!0})})).catch((function(e){console.log(e),C("There was a problem creating the user.",{appearance:"error",autoDismiss:!0})}))};return r.a.createElement("div",{className:j?"w-100 h-100 d-flex justify-content-center offWhiteBackground overflow-auto":"w-100 h-100 d-flex justify-content-center align-items-center offWhiteBackground overflow-auto"},r.a.createElement("div",{className:j?"bg-white d-flex flex-column form-padding align-items-center rounded px-3":"bg-white d-flex flex-column form-padding align-items-center rounded boxShadow"},r.a.createElement("h3",null,"Register"),r.a.createElement("div",{style:{height:1,width:"25%",backgroundColor:"gray",marginBottom:15}}),r.a.createElement(P.a,{defaultActiveKey:"email",id:"registerTabs"},r.a.createElement(V.a,{eventKey:"email",title:"Email",className:j?"mt-2 mb-4":"mt-2"},r.a.createElement("div",{className:"d-flex flex-column align-items-center"},r.a.createElement($.a,null,r.a.createElement($.a.Group,{controlId:"emailUsername"},r.a.createElement($.a.Label,null,"Username"),r.a.createElement($.a.Control,{type:"text",placeholder:"Username...",value:b,onChange:function(e){return E(e.target.value)}})),r.a.createElement($.a.Group,{controlId:"emailCountry"},r.a.createElement($.a.Label,null,"Country"),r.a.createElement($.a.Control,{as:"select",value:x,onChange:function(e){return w(e.target.value)}},O.map((function(e){return r.a.createElement("option",{key:e.code,value:e.code},e.name)})))),r.a.createElement($.a.Group,{controlId:"emailEmail"},r.a.createElement($.a.Label,null,"Email address"),r.a.createElement($.a.Control,{type:"email",placeholder:"Email...",value:a,onChange:function(e){return l(e.target.value)}})),r.a.createElement($.a.Group,{controlId:"emailPassword"},r.a.createElement($.a.Label,null,"Password"),r.a.createElement($.a.Control,{type:"password",placeholder:"Password...",value:i,onChange:function(e){return u(e.target.value)}})),r.a.createElement($.a.Group,{controlId:"emailConfirmPassword"},r.a.createElement($.a.Label,null,"Confirm Password"),r.a.createElement($.a.Control,{type:"password",placeholder:"Confirm Password...",value:f,onChange:function(e){return p(e.target.value)}}))),r.a.createElement("button",{className:"bg-white smLoginButton rounded-pill py-2 px-3",onClick:function(){return""===b.trim()?C("A valid username is required.",{appearance:"error",autoDismiss:!0}):""!==a.trim()&&/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(a).toLowerCase())?""===i.trim()||""===f.trim()?C("A valid password is required.",{appearance:"error",autoDismiss:!0}):i!==f?C("Passwords do not match",{appearance:"error",autoDismiss:!0}):void Y.a.auth().createUserWithEmailAndPassword(a,i).then((function(e){T(e.user.uid)})).catch((function(e){console.log(e),C("There was a problem creating the user.",{appearance:"error",autoDismiss:!0})})):C("A valid email is required.",{appearance:"error",autoDismiss:!0})}},"Register"))),r.a.createElement(V.a,{eventKey:"facebook",title:"Facebook",className:"mt-2"},r.a.createElement("div",{className:"d-flex flex-column align-items-center"},r.a.createElement($.a,null,r.a.createElement($.a.Group,{controlId:"facebookUsername"},r.a.createElement($.a.Label,null,"Create Username"),r.a.createElement($.a.Control,{type:"text",placeholder:"Create Username...",value:b,onChange:function(e){return E(e.target.value)}})),r.a.createElement($.a.Group,{controlId:"facebookCountry"},r.a.createElement($.a.Label,null,"Country"),r.a.createElement($.a.Control,{as:"select",value:x,onChange:function(e){return w(e.target.value)}},O.map((function(e){return r.a.createElement("option",{key:e.code,value:e.code},e.name)}))))),r.a.createElement("button",{className:"bg-white smLoginButton rounded-pill py-2 px-3",onClick:function(){if(""===b.trim())return C("A valid username is required.",{appearance:"error",autoDismiss:!0});Y.a.auth().signInWithPopup(new Y.a.auth.FacebookAuthProvider).then().then((function(e){T(e.user.uid)})).catch((function(e){console.log(e),C("There was a problem creating the user.",{appearance:"error",autoDismiss:!0})}))}},r.a.createElement(J.a,null)," Register"))),r.a.createElement(V.a,{eventKey:"github",title:"Github",className:"mt-2"},r.a.createElement("div",{className:"d-flex flex-column align-items-center"},r.a.createElement($.a,null,r.a.createElement($.a.Group,{controlId:"githubUsername"},r.a.createElement($.a.Label,null,"Create Username"),r.a.createElement($.a.Control,{type:"text",placeholder:"Create Username...",value:b,onChange:function(e){return E(e.target.value)}})),r.a.createElement($.a.Group,{controlId:"githubCountry"},r.a.createElement($.a.Label,null,"Country"),r.a.createElement($.a.Control,{as:"select",value:x,onChange:function(e){return w(e.target.value)}},O.map((function(e){return r.a.createElement("option",{key:e.code,value:e.code},e.name)}))))),r.a.createElement("button",{className:"bg-white smLoginButton rounded-pill py-2 px-3",onClick:function(){if(""===b.trim())return C("A valid username is required.",{appearance:"error",autoDismiss:!0});Y.a.auth().signInWithPopup(new Y.a.auth.GithubAuthProvider).then().then((function(e){T(e.user.uid)})).catch((function(e){console.log(e),C("There was a problem creating the user.",{appearance:"error",autoDismiss:!0})}))}},r.a.createElement(X.a,null)," Register"))))))},ce=a(229),oe=a(530);var se=Object(j.b)((function(e,t){return Object(o.a)({},t,{user:e.user})}),(function(e){return{updateUser:function(t){return e({type:"UPDATE_USER",user:t})}}}))((function(e){var t=Object(n.useState)(e.user?e.user.username:""),a=Object(s.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)(e.user?e.user.country:""),u=Object(s.a)(i,2),m=u[0],d=u[1],f=Object(n.useState)(e.user?e.user.username_color:"ffffff"),p=Object(s.a)(f,2),g=p[0],h=p[1],b=Object(n.useState)({}),E=Object(s.a)(b,2),v=E[0],y=E[1],x=Object(n.useState)(!1),w=Object(s.a)(x,2),j=w[0],N=w[1],C=Object(n.useState)(!0),S=Object(s.a)(C,2),T=S[0],_=S[1],I=Object(z.getData)(),L=Object(k.f)(),A=Object(D.useToasts)().addToast;Object(n.useEffect)((function(){e.user&&(_(!1),e.user.username!==l&&c(e.user.username),e.user.country!==m&&d(e.user.country),e.user.username_color!==g&&h(e.user.username_color))}),[e.user,l,c,m,d,g,h]);var U=function(e,t){var a=v;a[e]=t,y(a)},R=function(){N(!j)};return r.a.createElement("div",{className:"w-100 h-100 d-flex align-items-center justify-content-center offWhiteBackground position-relative"},T?r.a.createElement("div",{style:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.4)"},className:"d-flex align-items-center justify-content-center"},r.a.createElement(O,{color:"lime",size:100,className:"spinning-logo"})):null,r.a.createElement("div",{className:"bg-white d-flex flex-column align-items-center p-5 rounded boxShadow"},r.a.createElement("h3",null,"Settings"),r.a.createElement("div",{style:{height:1,width:"25%",backgroundColor:"gray"}}),r.a.createElement($.a,null,r.a.createElement($.a.Group,{controlId:"settingsUsername"},r.a.createElement($.a.Label,null,"Username"),r.a.createElement($.a.Control,{type:"text",placeholder:"Username...",value:v.username||l,onChange:function(e){c(e.target.value),U("username",e.target.value)}})),r.a.createElement($.a.Group,{controlId:"settingsCountry"},r.a.createElement($.a.Label,null,"Country"),r.a.createElement($.a.Control,{as:"select",value:v.country||m,onChange:function(e){d(e.target.value),U("country",e.target.value)}},I.map((function(e){return r.a.createElement("option",{key:e.code,value:e.code},e.name)})))),r.a.createElement($.a.Group,{controlId:"settingsColor"},r.a.createElement("div",{className:"d-flex flex-row align-items-center justify-content-center"},r.a.createElement("div",{className:"rounded mr-2 position-relative",style:{width:30,height:30,backgroundColor:"#".concat(v.username_color||g)}},r.a.createElement("div",{style:{cursor:"pointer",width:30,height:30},onClick:function(e){e.preventDefault(),R()}}),j?r.a.createElement("div",{style:{position:"absolute",left:"-20%",top:"130%"}},r.a.createElement("div",{style:{position:"fixed",top:0,bottom:0,left:0,right:0},onClick:R}),r.a.createElement(ce.TwitterPicker,{color:"#".concat(v.username_color||g),onChangeComplete:function(e){h(e.hex.split("#")[1]),U("username_color",e.hex.split("#")[1]),R()}})):null),r.a.createElement("h6",{className:"mb-0"},"Username Color")))),r.a.createElement("button",{className:"bg-white smLoginButton rounded-pill py-2 px-3 ".concat(0===Object.keys(v).length?"fullButton":""),onClick:function(){Y.a.firestore().collection("users").doc(e.user.user_id).update(v).then((function(){e.updateUser(Object(o.a)({},e.user,{},v)),y({}),A("User saved.",{appearance:"success",autoDismiss:!0})})).catch((function(e){console.log(e),A("There was a problem saving the user.",{appearance:"error",autoDismiss:!0})}))},disabled:0===Object.keys(v).length},"Save User"),r.a.createElement("button",{className:"bg-white smLoginButton rounded-pill py-2 px-3 text-danger mt-2",onClick:function(){Y.a.auth().signOut().then((function(){L.push("/"),A("Logged out.",{appearance:"success",autoDismiss:!0})})).catch((function(e){console.log(e),A("There was a problem logging out.",{appearance:"error",autoDismiss:!0})}))}},r.a.createElement(oe.a,null)," Log Out")))})),ie=a(70),ue=a.n(ie),me=a(118),de=function(e){return new Promise((function(t,a){fetch("https://www.googleapis.com/youtube/v3/search?key=".concat("AIzaSyCBuW_IWsZ1biICjlWto_ySrSBiH8e0ZkA","&part=snippet&videoEmbeddable=true&q=").concat(encodeURI(e),"&type=video&videoCategoryId=10"),{headers:{Accept:"application/json"}}).then((function(e){return e.json()})).then((function(e){e.items?t(e.items):a("No videos found")})).catch((function(e){return a(e)}))}))},fe=a(230),pe=a.n(fe),ge=a(531),he=a(532),be=a(533),Ee=a(534),ve=a(535),ye=a(536),xe=a(540),we=a(231),je=a.n(we),Oe=a(120);var Ne=Object(j.b)((function(e,t){return Object(o.a)({},t,{user:e.user,authed:e.authed})}))((function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)([]),u=Object(s.a)(i,2),f=u[0],p=u[1],g=Object(n.useState)([]),h=Object(s.a)(g,2),b=h[0],E=h[1],v=Object(n.useState)(!0),y=Object(s.a)(v,2),x=y[0],w=y[1],j=Object(n.useState)(!1),N=Object(s.a)(j,2),C=N[0],k=N[1],S=Object(n.useState)(!1),T=Object(s.a)(S,2),I=T[0],L=T[1],A=Object(n.useState)(null),U=Object(s.a)(A,2),B=U[0],z=U[1],P=Object(n.useState)("00:00:00"),V=Object(s.a)(P,2),W=V[0],G=V[1],q=Object(n.useState)("popular"),F=Object(s.a)(q,2),H=F[0],Q=F[1],K=Object(Oe.a)({query:"(max-device-width: 1024px)"}),Z=Object(D.useToasts)().addToast;Object(n.useEffect)((function(){document.title="Music | COVinfo",Y.a.firestore().collection("songs").get().then((function(e){var t=[];e.forEach((function(e){return t.push(e.data())})),E(X(t)),w(!1),k(!C)})).catch((function(e){console.log(e),Z("There was a problem loading the songs.",{appearance:"error",autoDismiss:!0})}))}),[]);var J=function(){var e=Object(me.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H!==t&&(Q(t),E(X(b,t)),k(!C),Z("Filtering by ".concat(t,"."),{appearance:"success",autoDismiss:!0}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:H;switch(t){case"recent":e.sort((function(e,t){return R()(t.created_at)-R()(e.created_at)}));break;default:e.sort((function(e,t){return t.upvotes.length-e.upvotes.length}))}return e},ee=function(){""!==l.trim()?de(l).then((function(e){p(e),L(!0)})).catch((function(e){console.log(e),Z("There was a problem searching YouTube.",{appearance:"error",autoDismiss:!0})})):p([])},te=function(){var e=W.split(":"),t=parseInt(e[0]),a=parseInt(e[1]),n=parseInt(e[2]);return R.a.duration(t,"hours").asSeconds()+R.a.duration(a,"minutes").asSeconds()+n},ae=function(){L(!1),G("00:00:00"),z(null),p([])};return r.a.createElement("div",{className:"w-100 h-100 d-flex flex-column"},r.a.createElement(m.a,{show:I,onHide:ae},r.a.createElement(m.a.Header,{closeButton:!0},r.a.createElement(m.a.Title,null,"Suggest A Song")),r.a.createElement(m.a.Body,null,r.a.createElement("div",null,f.map((function(e){return r.a.createElement("button",{className:"w-100 border-0 ".concat(B&&e.id.videoId===B.id.videoId?"border-info":"bg-transparent"),onClick:function(){return z(e)}},r.a.createElement("div",{className:"d-flex flex flex-row align-items-center my-2"},r.a.createElement("img",{src:e.snippet.thumbnails.default.url,width:e.snippet.thumbnails.default.width*(2/3),height:e.snippet.thumbnails.default.height*(2/3),alt:"thumbnail"}),r.a.createElement("div",{className:"ml-2 text-left"},r.a.createElement("h5",{className:"mb-0 text-dark"},e.snippet.title.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(t)}))),r.a.createElement("span",{className:"ml-2 h6 text-black-50"},e.snippet.channelTitle," \xb7",R()(e.snippet.publishedAt).fromNow()))))}))),r.a.createElement($.a.Group,null,r.a.createElement($.a.Label,null,"Timestamp"),r.a.createElement(je.a,{mask:"99:99:99",defaultValue:W,onChange:function(e){return G(e.target.value)}},(function(e){return r.a.createElement($.a.Control,Object.assign({type:"text"},e))})))),r.a.createElement(m.a.Footer,null,r.a.createElement(d.a,{variant:"primary",className:"d-flex flex-row align-items-center",onClick:function(){if(null!==B){var t={url:"https://youtube.com/watch?v=".concat(B.id.videoId),title:B.snippet.title,seconds:te(),created_at:R()().toISOString(),upvotes:[],user:e.user,song_id:""};Y.a.firestore().collection("songs").add(t).then((function(e){Y.a.firestore().collection("songs").doc(e.id).update({song_id:e.id}).then((function(){var a=b;a.push(Object(o.a)({},t,{song_id:e.id})),E(X(a)),c(""),ae(),Z("Song added.",{appearance:"success",autoDismiss:!0})})).catch((function(e){console.log(e),Z("There was a problem adding the song.",{appearance:"error",autoDismiss:!0})}))})).catch((function(e){console.log(e),Z("There was a problem adding the song.",{appearance:"error",autoDismiss:!0})}))}}},r.a.createElement(ge.a,{className:"mr-1"})," Suggest Song"))),r.a.createElement("div",{className:"w-100 px-3 mt-3 d-flex flex-column"},r.a.createElement("h3",{className:K?"align-self-center text-center":""},"Hand Washing Music"),r.a.createElement("div",{className:"w-100 d-flex flex-row rounded-pill messageInputContainer"},r.a.createElement("input",{type:"text",className:"flex bg-transparent border-0 py-2 px-3 messageInput",placeholder:e.authed?"Add song from YouTube...":"Login to enable adding songs...",onChange:function(e){return c(e.target.value)},disabled:!e.authed,onKeyDown:function(e){13===e.keyCode&&ee()},value:l}),""!==l.trim()?r.a.createElement("button",{className:"bg-primary border-0 d-flex align-items-center justify-content-center pl-3 pr-4",style:{borderTopRightRadius:100,borderBottomRightRadius:100},onClick:ee},r.a.createElement(he.a,{color:"white"})):r.a.createElement("div",null))),x?r.a.createElement("div",{className:"d-flex align-items-center justify-content-center w-100 flex"},r.a.createElement(O,{color:"lime",size:100,className:"spinning-logo"})):r.a.createElement("div",{className:K?"h-100":"h-100 p-3"},r.a.createElement(xe.a,{className:"mb-3 d-flex justify-content-end"},r.a.createElement(xe.a.Toggle,{variant:"light"},"Filter ",r.a.createElement(be.a,null)),r.a.createElement(xe.a.Menu,null,r.a.createElement(xe.a.Item,{onClick:function(){return J("popular")},style:{backgroundColor:"popular"===H?"lightgray":"white"}},r.a.createElement("div",{className:"d-flex flex-row align-items-center"},r.a.createElement("span",{className:"flex"},"Popular")," ",r.a.createElement(Ee.a,null))),r.a.createElement(xe.a.Item,{onClick:function(){return J("recent")},style:{backgroundColor:"recent"===H?"lightgray":"white"}},r.a.createElement("div",{className:"d-flex flex-row align-items-center"},r.a.createElement("span",{className:"flex"},"Recent")," ",r.a.createElement(ve.a,null))))),r.a.createElement(M.Scrollbars,{hideTracksWhenNotNeeded:!0,renderView:function(e){return r.a.createElement("div",Object.assign({},e,{style:Object(o.a)({},e.style,{marginBottom:50,paddingRight:8})}))}},b.map((function(t){return r.a.createElement("div",{className:"border d-inline-block m-1 flex",style:{borderRadius:10,borderColor:"lightgray"},key:t.song_id},r.a.createElement(pe.a,{url:"".concat(t.url,"&t=").concat(t.seconds),controls:!1,className:"p-2",width:"100%"}),r.a.createElement("div",{style:{height:1,width:"100%",backgroundColor:"lightgray"}}),r.a.createElement("div",{className:K?"p-2 d-flex flex-column justify-content-center":"p-2 d-flex flex-row align-items-center"},r.a.createElement("div",{className:"flex"},r.a.createElement("span",null,"Submitted by: "),r.a.createElement("span",{style:{color:"#".concat(t.user.username_color)}},t.user.username),r.a.createElement(_.a,{countryCode:t.user.country,className:"ml-1"})),r.a.createElement("div",{className:"d-flex flex-row align-items-center"},e.authed&&"admin"===e.user.type?r.a.createElement("button",{className:"bg-transparent border-0",onClick:function(){return e=t.song_id,void(window.confirm("Are you sure you want to delete that song?")&&Y.a.firestore().collection("songs").doc(e).delete().then((function(){E(X(b.filter((function(t){return t.song_id!==e})))),k(!C),Z("The song was deleted.",{appearance:"success",autoDismiss:!0})})).catch((function(e){console.log(e),Z("There was a problem deleting the song.",{appearance:"error",autoDismiss:!0})})));var e}},r.a.createElement(ye.a,{className:"text-danger"})):null,r.a.createElement("span",null,"(",t.upvotes.length,")"),r.a.createElement("button",{className:"bg-transparent border-0",onClick:function(){return function(t){var a=b.findIndex((function(e){return e.song_id===t})),n=b[a].upvotes;n.includes(e.user.user_id)?n=n.filter((function(t){return t!==e.user.user_id})):n.push(e.user.user_id);var r=b;r[a]=Object(o.a)({},r[a],{upvotes:n}),Y.a.firestore().collection("songs").doc(t).update({upvotes:n}).then((function(){E(X(r)),k(!C),Z("Upvote toggled.",{appearance:"success",autoDismiss:!0})})).catch((function(e){console.log(e),Z("There was a problem toggling the upvote.",{appearance:"error",autoDismiss:!0})}))}(t.song_id)},disabled:!e.authed,title:e.authed?null:"Login to enable upvoting"},r.a.createElement(Ee.a,{color:e.authed?t.upvotes.includes(e.user.user_id)?"gold":"black":"gray"})))))})))))})),Ce=a(537),ke=a(238),Se=a(235),Te=a.n(Se);var _e=Object(j.b)((function(e,t){return Object(o.a)({},t,{user:e.user,authed:e.authed})}))((function(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)(!0),u=Object(s.a)(i,2),f=u[0],p=u[1],g=Object(n.useState)(!1),h=Object(s.a)(g,2),E=h[0],v=h[1],y=Object(n.useState)(!1),x=Object(s.a)(y,2),w=x[0],j=x[1],N=Object(n.useState)(r.a.createElement(b.a,{size:100})),C=Object(s.a)(N,2),k=C[0],S=C[1],T=Object(n.useState)(!1),I=Object(s.a)(T,2),L=I[0],A=I[1],U=Object(n.useState)(null),B=Object(s.a)(U,2),z=B[0],P=B[1],V=Object(n.useState)("popular"),W=Object(s.a)(V,2),G=W[0],q=W[1],F=Object(n.useState)(0),H=Object(s.a)(F,2),Q=H[0],K=H[1],Z=Object(n.useState)(!1),J=Object(s.a)(Z,2),X=J[0],$=J[1],ee=Object(n.useRef)(null),te=Object(Oe.a)({query:"(max-device-width: 1024px)"}),ae=Object(D.useToasts)().addToast;Object(n.useEffect)((function(){Y.a.firestore().collection("memes").get().then((function(e){var t=[];e.forEach((function(e){return t.push(e.data())})),c(re(t)),p(!1),v(!E)})).catch((function(e){console.log(e),ae("There was a problem loading the memes.",{appearance:"error",autoDismiss:!0})}))}),[]);var ne=function(){var e=Object(me.a)(ue.a.mark((function e(t){return ue.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G!==t&&(q(t),c(re(l,t)),v(!E),ae("Filtering by ".concat(t,"."),{appearance:"success",autoDismiss:!0}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),re=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G;switch(t){case"recent":e.sort((function(e,t){return R()(t.created_at)-R()(e.created_at)}));break;default:e.sort((function(e,t){return t.upvotes.length-e.upvotes.length}))}return e},le=function(){j(!1),P(null)};return r.a.createElement("div",{className:"w-100 h-100 d-flex flex-column",ref:ee},r.a.createElement(m.a,{show:w,onHide:le},r.a.createElement(m.a.Header,{closeButton:!0},r.a.createElement(m.a.Title,null,"Upload a Meme")),r.a.createElement(m.a.Body,{className:"d-flex flex-column align-items-center"},z?r.a.createElement("button",{className:"bg-transparent border-0 position-relative",onMouseEnter:function(){return A(!0)},onMouseLeave:function(){return A(!1)},onClick:function(){return P(null)}},r.a.createElement("img",{src:URL.createObjectURL(z),alt:"memeToUpload",style:{borderRadius:5,width:"70%"}}),L?r.a.createElement("div",{className:"position-absolute d-flex flex-row align-items-center justify-content-center",style:{left:0,top:0,bottom:0,right:0,backgroundColor:"rgba(255, 255, 255, 0.4)"}},r.a.createElement(ye.a,{className:"text-danger",size:50})):r.a.createElement("div",null)):r.a.createElement(ke.a,{onDrop:function(e){return P(e[0])}},(function(e){var t=e.getRootProps,a=e.getInputProps;return r.a.createElement("section",null,r.a.createElement("div",t({className:"dropzone",onMouseEnter:function(){return S(r.a.createElement(ge.a,{size:100}))},onMouseLeave:function(){return S(r.a.createElement(b.a,{size:100}))}}),r.a.createElement("input",a({multiple:!1,accept:"image/png, image/jpeg, image/gif"})),k,r.a.createElement("span",null,"Drag 'n' drop some files here, or click to select files")))})),X?r.a.createElement(Ce.a,{now:Q,label:"".concat(Q,"%"),className:"w-100 mt-2"}):null),r.a.createElement(m.a.Footer,null,r.a.createElement(d.a,{variant:"primary",className:"d-flex flex-row align-items-center",onClick:function(){if(z){$(!0);var t={url:"",created_at:"",upvotes:[],user:e.user,meme_id:""};Y.a.firestore().collection("memes").add(t).then((function(e){t.meme_id=e.id,Y.a.storage().ref("images/".concat(t.meme_id)).put(z).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);K(t)}),(function(e){console.log(e),ae("There was a problem adding the meme.",{appearance:"error",autoDismiss:!0})}),(function(){Y.a.storage().ref("images").child(t.meme_id).getDownloadURL().then((function(e){t.url=e,t.created_at=R()().toISOString(),Y.a.firestore().collection("memes").doc(t.meme_id).update(t).then((function(){var e=l;e.push(t),c(re(e)),$(!1),le(),ae("Meme added.",{appearance:"success",autoDismiss:!0})})).catch((function(e){console.log(e),ae("There was a problem adding the meme.",{appearance:"error",autoDismiss:!0})}))})).catch((function(e){console.log(e),ae("There was a problem adding the meme.",{appearance:"error",autoDismiss:!0})}))}))})).catch((function(e){console.log(e),ae("There was a problem adding the meme.",{appearance:"error",autoDismiss:!0})}))}}},r.a.createElement(ge.a,{className:"mr-1"})," Upload Meme"))),r.a.createElement("h3",{className:te?"align-self-center px-3 pt-3 text-center":"px-3 pt-3"},"Coronavirus Memes"),r.a.createElement("div",{className:"d-flex flex-row align-items-center justify-content-between mb-3 px-3"},r.a.createElement(d.a,{variant:"success",onClick:function(){return j(!0)},disabled:!e.authed},e.authed?"+ Add Meme":"Login to add memes"),r.a.createElement(xe.a,null,r.a.createElement(xe.a.Toggle,{variant:"light"},"Filter ",r.a.createElement(be.a,null)),r.a.createElement(xe.a.Menu,null,r.a.createElement(xe.a.Item,{onClick:function(){return ne("popular")},style:{backgroundColor:"popular"===G?"lightgray":"white"}},r.a.createElement("div",{className:"d-flex flex-row align-items-center"},r.a.createElement("span",{className:"flex"},"Popular")," ",r.a.createElement(Ee.a,null))),r.a.createElement(xe.a.Item,{onClick:function(){return ne("recent")},style:{backgroundColor:"recent"===G?"lightgray":"white"}},r.a.createElement("div",{className:"d-flex flex-row align-items-center"},r.a.createElement("span",{className:"flex"},"Recent")," ",r.a.createElement(ve.a,null)))))),f?r.a.createElement("div",{className:"d-flex align-items-center justify-content-center w-100 flex"},r.a.createElement(O,{color:"lime",size:100,className:"spinning-logo"})):r.a.createElement("div",{className:te?"flex":"flex p-3"},r.a.createElement(M.Scrollbars,{hideTracksWhenNotNeeded:!0,renderView:function(e){return r.a.createElement("div",e)}},r.a.createElement(Te.a,{className:te?"pr-2 pb-5 d-flex w-100":"pr-3 pb-5 d-flex w-100",breakpointCols:{default:4,1224:3,900:2,700:1},columnClassName:"align-items-center mx-1"},l.map((function(t){return r.a.createElement("div",{className:"border d-inline-block m-1 w-100",style:{borderRadius:10,borderColor:"lightgray"},key:t.meme_id},r.a.createElement("img",{src:t.url,alt:t.meme_id,className:"w-100 p-2"}),r.a.createElement("div",{style:{height:1,width:"100%",backgroundColor:"lightgray"}}),r.a.createElement("div",{className:te?"p-2 d-flex flex-column justify-content-center":"p-2 d-flex flex-row align-items-center"},r.a.createElement("div",{className:"flex"},r.a.createElement("span",null,"Submitted by: "),r.a.createElement("span",{style:{color:"#".concat(t.user.username_color)}},t.user.username),r.a.createElement(_.a,{countryCode:t.user.country,className:"ml-1"})),r.a.createElement("div",{className:"d-flex flex-row align-items-center"},e.authed&&"admin"===e.user.type?r.a.createElement("button",{className:"bg-transparent border-0",onClick:function(){return e=t.meme_id,void(window.confirm("Are you sure you want to delete that meme?")&&Y.a.firestore().collection("memes").doc(e).delete().then((function(){Y.a.storage().ref("images/".concat(e)).delete().then((function(){c(re(l.filter((function(t){return t.meme_id!==e})))),v(!E),ae("The meme was deleted.",{appearance:"success",autoDismiss:!0})})).catch((function(e){console.log(e),ae("There was a problem deleting the meme.",{appearance:"error",autoDismiss:!0})}))})).catch((function(e){console.log(e),ae("There was a problem deleting the meme.",{appearance:"error",autoDismiss:!0})})));var e}},r.a.createElement(ye.a,{className:"text-danger"})):null,r.a.createElement("span",null,"(",t.upvotes.length,")"),r.a.createElement("button",{className:"bg-transparent border-0",onClick:function(){return function(t){var a=l.findIndex((function(e){return e.meme_id===t})),n=l[a].upvotes;n.includes(e.user.user_id)?n=n.filter((function(t){return t!==e.user.user_id})):n.push(e.user.user_id);var r=l;r[a]=Object(o.a)({},r[a],{upvotes:n}),Y.a.firestore().collection("memes").doc(t).update({upvotes:n}).then((function(){c(re(r)),v(!E),ae("Upvote toggled.",{appearance:"success",autoDismiss:!0})})).catch((function(e){console.log(e),ae("There was a problem toggling the upvote.",{appearance:"error",autoDismiss:!0})}))}(t.meme_id)},disabled:!e.authed,title:e.authed?null:"Login to enable upvoting"},r.a.createElement(Ee.a,{color:e.authed?t.upvotes.includes(e.user.user_id)?"gold":"black":"gray"})))))}))))))}));var De=function(){var e=Object(N.useMediaQuery)({query:"(max-device-width: 1024px)"});return r.a.createElement(j.a,{store:re},r.a.createElement(D.ToastProvider,{autoDismissTimeout:3e3,placement:e?"bottom-center":"top-right"},r.a.createElement(w.a,null,r.a.createElement("div",{className:"d-flex inner-body h-100"},r.a.createElement(S,null),r.a.createElement(k.c,null,r.a.createElement(k.a,{path:"/map"},r.a.createElement(A,null)),r.a.createElement(k.a,{path:"/chat"},r.a.createElement(K,null)),r.a.createElement(k.a,{path:"/music"},r.a.createElement(Ne,null)),r.a.createElement(k.a,{path:"/memes"},r.a.createElement(_e,null)),r.a.createElement(k.a,{path:"/login"},r.a.createElement(ee,null)),r.a.createElement(k.a,{path:"/register"},r.a.createElement(le,null)),r.a.createElement(k.a,{path:"/settings"},r.a.createElement(se,null)),r.a.createElement(k.a,{path:"/"},r.a.createElement(W,null)))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(503),a(505),a(512),a(511),a(508);var Ie=function(e){var t={username:e.displayName,country:"US",username_color:"000000",user_id:e.uid};Y.a.firestore().collection("users").doc(e.uid).set(t).then((function(){return re.dispatch({type:"UPDATE_USER",user:t})}))},Le=a(105),Ae=a.n(Le);Y.a.initializeApp({apiKey:"AIzaSyCBuW_IWsZ1biICjlWto_ySrSBiH8e0ZkA",authDomain:"covinfo.firebaseapp.com",databaseURL:"https://covinfo.firebaseio.com",projectId:"covinfo",storageBucket:"covinfo.appspot.com",messagingSenderId:"174794034863",appId:"1:174794034863:web:a865952aec9b1154d6ce5a",measurementId:"G-G84RNWQM40"}),Y.a.analytics(),Y.a.performance(),Y.a.auth().onAuthStateChanged((function(e){e?Y.a.firestore().collection("users").doc(e.uid).get().then((function(t){t.exists?re.dispatch({type:"UPDATE_USER",user:t.data()}):Ie(e)})).catch((function(t){Ie(e)})):re.dispatch({type:"CLEAR_USER"})})),Ae.a.setAppElement("#root"),c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(De,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[244,1,2]]]);
//# sourceMappingURL=main.1e7643f2.chunk.js.map